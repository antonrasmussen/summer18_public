
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Car Picker</title>
	<script language="Javascript" type="text/javascript">
		<!-- Hide script from older browsers

		function validEmail(email) {
			invalidChars = " /:,;"
	
			if (email == "") {						// cannot be empty
				return false
			}
			for (i=0; i<invalidChars.length; i++) {	// does it contain any invalid characters?
				badChar = invalidChars.charAt(i)
				if (email.indexOf(badChar,0) > -1) {
					return false
				}
			}
			atPos = email.indexOf("@",1)			// there must be one "@" symbol
			if (atPos == -1) {
				return false
			}
			if (email.indexOf("@",atPos+1) != -1) {	// and only one "@" symbol
				return false
			}
			periodPos = email.indexOf(".",atPos)
			if (periodPos == -1) {					// and at least one "." after the "@"
				return false
			}
			if (periodPos+3 > email.length)	{		// must be at least 2 characters after the "."
				return false
			}
			return true
		}

		function isNum(passedVal) {					// Is this a number?
			if (passedVal == "") {
				return false
			}
			for (i=0; i<passedVal.length; i++) {
				if (passedVal.charAt(i) < "0") {
					return false
				}
				if (passedVal.charAt(i) > "9") {
					return false
				}
			}
			return true
		}

		function validZip(inZip) {					// Is this a valid Zip code?
			if (inZip == "") {
				return true
			}
			if (isNum(inZip)) {						// Check if Zip is numeric
				return true
			}
			return false
		}

		function submitIt(carForm) {

			// make sure they enter a color
			colorChoice = carForm.color.selectedIndex
			if (carForm.color.options[colorChoice].value == "") {
				alert("You must pick a color")
				return false
			}
	
			// make sure they enter in a number of doors
			doorOption = -1
			for (i=0; i<carForm.DoorCt.length; i++) {
				if (carForm.DoorCt[i].checked) {
					doorOption = i
				}
			}
			if (doorOption == -1) {
				alert("You must choose 2 or 4 door")
				return false
			}
	
			// can't have the sunroof with a four door
			if (carForm.DoorCt[doorOption].value == "fourDoor" && carForm.sunroof.checked) {
				alert("The sunroof is only available on the two door model")
				return false
			}
	
			// check to see if the email's valid
			if (!validEmail(carForm.emailAddr.value)) {
				alert("Invalid email address")
				carForm.emailAddr.focus()
				carForm.emailAddr.select()
				return false
			}
	
			if (carForm.zip.value == "" && carForm.dealerList.selectedIndex == -1) {
				alert("You must either enter a Zip code, or pick the dealer closest to you")
				carForm.zip.focus()
				return false
			}
	
			if (!validZip(carForm.zip.value)) {
				alert("That is an invalid Zip code")
				carForm.zip.focus()
				carForm.zip.select()
				return false
			}
	
			// If we made it to here, everything's valid, so return true
			return true
		}

		function doorSet(sunroofField) {
			if (sunroofField.checked) {
				for (i=0; i<document.myForm.DoorCt.length; i++) {
					if (document.myForm.DoorCt[i].value == "twoDoor") {
						document.myForm.DoorCt[i].checked = true
					}
				}
			}
		}

		// End hiding script -->
	</script>	
</head>
<body bgcolor="#FFFFFF">
<h2 align="center">Car Picker</h2>
<form onsubmit="return submitIt(this)" action="someAction.cgi" name="myForm">
	<table border="0" cellspacing="8" cellpadding="8">
		<tr>
			<td align="right">
				Email Address:
			</td>
			<td>
				<input name="emailAddr" type="text" size="30" />
			</td>
		</tr>
		<tr>
			<td align="right">
				Colors:
			</td>
			<td>
				<select name="color">
					<option value="" selected="selected">Choose a color</option>
					<option value="Red">Red</option>
					<option value="Green">Green</option>
					<option value="Blue">Blue</option>
				</select>
			</td>
		</tr>
		<tr>
			<td align="right">
				Options:
			</td>
			<td>
				<input type="checkbox" name="sunroof" value="Yes" onclick="doorSet(this)" />Sunroof (Two door only)&nbsp;&nbsp;
				<input type="checkbox" name="pSteering" value="Yes" />Power Windows
			</td>
		</tr>
		<tr>
			<td align="right">
				Doors:
			</td>
			<td>
				<input type="radio" value="twoDoor" name="DoorCt" />Two
				<input type="radio" value="fourDoor" name="DoorCt" />Four
			</td>
		</tr>
		<tr>
			<td colspan="2">
				Enter your Zip code or pick the dealer nearest you:
			</td>
		</tr>
		<tr>
			<td valign="top">
				Zip: <input name="zip" type="text" size="5" maxlength="5" />
			</td>
			<td>
				<select name="dealerList" size="4">
					<option>California--Lemon Grove</option>
					<option>California--Lomita</option>
					<option>California--Long Beach</option>
					<option>California--Los Alamitos</option>
					<option>California--Los Angeles</option>
				</select>
				<p><input type="submit" value="Submit" />&nbsp;<input type="reset" /></p>
			</td>
		</tr>
	</table>
</form>
</body>
</html>
